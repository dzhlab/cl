---
description: Рефакторинг кода с улучшением читаемости и производительности
argument-hint: [файл для рефакторинга]
---

Отрефактори код в $1 следуя best practices

## Цели рефакторинга:

### 1. Улучшение читаемости
- Понятные имена переменных и функций
- Разбиение длинных функций на более мелкие
- Удаление дублирующегося кода (DRY)
- Добавление комментариев где необходимо
- Улучшение структуры кода

### 2. Оптимизация производительности
- Устранение ненужных вычислений
- Оптимизация циклов
- Кеширование результатов
- Ленивые вычисления где применимо
- Оптимизация работы с памятью

### 3. Применение паттернов
- SOLID принципы
- DRY (Don't Repeat Yourself)
- KISS (Keep It Simple, Stupid)
- YAGNI (You Aren't Gonna Need It)
- Композиция над наследованием

### 4. Современные практики
- Использование современного синтаксиса языка
- Async/await вместо callbacks (для JS/TS)
- List comprehensions (для Python)
- Типизация (TypeScript, Python type hints)
- Деструктуризация и spread операторы

### 5. Безопасность
- Валидация входных данных
- Безопасная работа с данными
- Предотвращение injection атак

## Процесс рефакторинга:

1. **Прочитай код** и пойми что он делает
2. **Сохрани функциональность** - рефакторинг не должен менять поведение
3. **Создай или запусти существующие тесты** - убедись что они проходят
4. **Выполни рефакторинг** поэтапно:
   - Переименование
   - Извлечение функций
   - Упрощение логики
   - Удаление дублирования
5. **Запусти тесты** после каждого изменения
6. **Добавь новые тесты** если их не хватает
7. **Финальная проверка** - код работает и читается лучше

## Что НЕ делать:

❌ Не меняй поведение кода (только структуру)
❌ Не добавляй новую функциональность
❌ Не удаляй тесты
❌ Не делай слишком много изменений сразу

## Результат:

После рефакторинга:
- Код должен быть понятнее
- Тесты должны проходить
- Производительность не должна ухудшиться (желательно улучшиться)
- Количество строк может уменьшиться
